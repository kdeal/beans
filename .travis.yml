matrix:
    include:
        - language: python
          python: 2.7
          env: TOXENV=py27
          install: pip install tox
          before_script:
            - curl https://storage.googleapis.com/appengine-sdks/featured/google_appengine_1.9.50.zip > google_appengine.zip
            - unzip google_appengine.zip >/dev/null
            - export APPENGINE_PATH=./google_appengine
            - export PATH=$PATH:$APPENGINE_PATH
          script: make -C api/ test
          cache:
            directories:
                - $HOME/.cache/pip
                - $HOME/.pre-commit

        - language: node_js
          node_js: 8
          script: make -C frontend/ test
          cache:
            directories:
                - $HOME/frontend/node_modules
